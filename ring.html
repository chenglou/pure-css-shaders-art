<style>
  div:nth-child(21) > span {--y: 0;}
  div:nth-child(20) > span {--y: 0.05;}
  div:nth-child(19) > span {--y: 0.1;}
  div:nth-child(18) > span {--y: 0.15;}
  div:nth-child(17) > span {--y: 0.2;}
  div:nth-child(16) > span {--y: 0.25;}
  div:nth-child(15) > span {--y: 0.3;}
  div:nth-child(14) > span {--y: 0.35;}
  div:nth-child(13) > span {--y: 0.4;}
  div:nth-child(12) > span {--y: 0.45;}
  div:nth-child(11) > span {--y: 0.5;}
  div:nth-child(10) > span {--y: 0.55;}
  div:nth-child(9) > span {--y: 0.6;}
  div:nth-child(8) > span {--y: 0.65;}
  div:nth-child(7) > span {--y: 0.7;}
  div:nth-child(6) > span {--y: 0.75;}
  div:nth-child(5) > span {--y: 0.8;}
  div:nth-child(4) > span {--y: 0.85;}
  div:nth-child(3) > span {--y: 0.9;}
  div:nth-child(2) > span {--y: 0.95;}
  div:nth-child(1) > span {--y: 1.0;}

  div > span:nth-child(1) {--x: 0.0;}
  div > span:nth-child(2) {--x: 0.05;}
  div > span:nth-child(3) {--x: 0.1;}
  div > span:nth-child(4) {--x: 0.15;}
  div > span:nth-child(5) {--x: 0.2;}
  div > span:nth-child(6) {--x: 0.25;}
  div > span:nth-child(7) {--x: 0.3;}
  div > span:nth-child(8) {--x: 0.35;}
  div > span:nth-child(9) {--x: 0.4;}
  div > span:nth-child(10) {--x: 0.45;}
  div > span:nth-child(11) {--x: 0.5;}
  div > span:nth-child(12) {--x: 0.55;}
  div > span:nth-child(13) {--x: 0.6;}
  div > span:nth-child(14) {--x: 0.65;}
  div > span:nth-child(15) {--x: 0.7;}
  div > span:nth-child(16) {--x: 0.75;}
  div > span:nth-child(17) {--x: 0.8;}
  div > span:nth-child(18) {--x: 0.85;}
  div > span:nth-child(19) {--x: 0.9;}
  div > span:nth-child(20) {--x: 0.95;}
  div > span:nth-child(21) {--x: 1.0;}

  /* we can't have an infinitely increasing variable in CSS, so we settle for a precomputed sine wave for time */
  @keyframes timer {
    0% {--sin-time: 0.0000;}
    5% {--sin-time: 0.2948;}
    10% {--sin-time: 0.5633;}
    15% {--sin-time: 0.7818;}
    20% {--sin-time: 0.9309;}
    25% {--sin-time: 0.9972;}
    30% {--sin-time: 0.9749;}
    35% {--sin-time: 0.8660;}
    40% {--sin-time: 0.6802;}
    45% {--sin-time: 0.4339;}
    50% {--sin-time: 0.1490;}
    55% {--sin-time: -0.1490;}
    60% {--sin-time: -0.4339;}
    65% {--sin-time: -0.6802;}
    70% {--sin-time: -0.8660;}
    75% {--sin-time: -0.9749;}
    80% {--sin-time: -0.9972;}
    85% {--sin-time: -0.9309;}
    90% {--sin-time: -0.7818;}
    95% {--sin-time: -0.5633;}
    100% {--sin-time: -0.2948;}
  }
  :root {
    --sin-time: 1; /* fallback value of 1 for browsers like Safari that don't support css variable in @keyframes */
    animation: timer 6.28318s infinite; /* 2PI period */
  }
  body {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 0;
  }
  span {
    display: inline-block;
    height: 1rem;
    width: 1rem;
  }
</style>

<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<div><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>

<style
  style="display: inline-block; white-space: pre-wrap; font: 1em monospace;"
  contenteditable="true"
>
  /* Editable style!
    Provided globals: --x, --y, normalized from 0 to 1, and --sin-time, from roughly -1 to 1 over 2PI seconds */
  span {
    /* create new UV from -1 to 1 */
    --u: calc(2.0 * var(--x) - 1.0);
    --v: calc(2.0 * var(--y) - 1.0);
    /* no square root */
    --dist: calc((var(--u) * var(--u) + var(--v) * var(--v))/2.0 - 0.25);
    /* approximation of atan(v, u) */
    --atan-div: calc(var(--v) / (var(--u) + 0.001));
    --angle-x: calc(var(--atan-div) / (1.0 + 0.28125*var(--atan-div)*var(--atan-div)) * 1.3 + var(--sin-time)/2.0 - 0.4);
    --angle-y: calc(var(--angle-x) + 1.5);
    --angle-z: calc(var(--angle-x) + 3.0);
    --angle-w: calc(var(--angle-x) + 4.5);
    /* approximation of 0.1*sin(angle + someConstant) */
    --sin-x: calc(1.6 * var(--angle-x) * (3.14 - var(--angle-x)) / (49.35 - 4*var(--angle-x)*(3.14 - var(--angle-x))));
    --sin-y: calc(1.6 * var(--angle-y) * (3.14 - var(--angle-y)) / (49.35 - 4*var(--angle-y)*(3.14 - var(--angle-y))));
    --sin-z: calc(1.6 * var(--angle-z) * (3.14 - var(--angle-z)) / (49.35 - 4*var(--angle-z)*(3.14 - var(--angle-z))));
    --sin-w: calc(1.6 * var(--angle-w) * (3.14 - var(--angle-w)) / (49.35 - 4*var(--angle-w)*(3.14 - var(--angle-w))));

    --bg-x: max(calc(var(--dist) - var(--sin-x)), calc(var(--sin-y) - var(--dist)));
    --bg-y: max(calc(var(--dist) - var(--sin-y)), calc(var(--sin-z) - var(--dist)));
    --bg-z: max(calc(var(--dist) - var(--sin-z)), calc(var(--sin-w) - var(--dist)));
    --bg-w: max(calc(var(--dist) - var(--sin-w)), calc(var(--sin-x) - var(--dist)));

    --dot: calc(
      clamp(0, var(--bg-x) * 720, 72) * var(--sin-x) +
      clamp(0, var(--bg-y) * 720, 72) * var(--sin-y) +
      clamp(0, var(--bg-z) * 720, 72) * var(--sin-z) +
      clamp(0, var(--bg-w) * 720, 72) * var(--sin-w)
    );

    --r: calc(var(--dot) * (var(--sin-x) - 0.1) * 255);
    --g: calc(var(--dot) * (var(--sin-y) - 0.1) * 255);
    --b: calc(var(--dot) * (var(--sin-z) - 0.1) * 255);

    background-color: rgb(var(--r), var(--g), var(--b));
  }
</style>
